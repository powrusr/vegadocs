---
id: submit-json-rpc-request-to-wallet-api
title: "Submit JSON-RPC request to wallet API"
sidebar_label: "Submit JSON-RPC request to wallet API"
hide_title: true
hide_table_of_contents: true
api: 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
sidebar_class_name: "post api-method"
info_path: api/vega-wallet/reference/local-service/wallet-api
custom_edit_url: "https://github.com/vegaprotocol/documentation/issues/new?labels=documentation&title=[Documentation] Requesting changes to 'Submit JSON-RPC request to wallet API' (submit-json-rpc-request-to-wallet-api)"
---

import ApiTabs from "@theme/ApiTabs";
import DiscriminatorTabs from "@theme/DiscriminatorTabs";
import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import SecuritySchemes from "@theme/ApiExplorer/SecuritySchemes";
import MimeTabs from "@theme/MimeTabs";
import ParamsItem from "@theme/ParamsItem";
import ResponseSamples from "@theme/ResponseSamples";
import SchemaItem from "@theme/SchemaItem";
import SchemaTabs from "@theme/SchemaTabs";
import Markdown from "@theme/Markdown";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";

<h1 className={"openapi__heading"}>Submit JSON-RPC request to wallet API</h1>

<MethodEndpoint method={"post"} path={"/v2/requests"}></MethodEndpoint>



This endpoint is the main entry point to submit JSON-RPC requests. The body of the HTTP request should be formatted as a JSON-RPC v2 request. The HTTP response is formatted as the JSON-RPC v2 response.

The `ID` should be specified. See [the JSON-RPC notification documentation](https://www.jsonrpc.org/specification#notification) for more details.

# Content type
This endpoint returns a response with a specific `Content-Type` header: `application/json-rpc`.

This content type is used to help third-party applications differentiate the different JSON formats returned by the service. 

Note that `application/json-rpc` is not a standard HTTP content type.

# Authentication

## Workflow
When connecting to a wallet, a connection token will be received back through the `Authorisation` header.

When accessing protected JSON-RPC methods, the connection token must be set to the `Authorisation` header. If the connection token is not valid, the server returns a response with the HTTP code 401, and the `WWW-Authenticate` header set to `VWT` as required by the HTTP standards.

### Community implementation of the wallet service
People might be willing to implement their own wallet service with their own authentication system. It's recommended that any community implementations follow the same workflow.

This will save third-party applications from having to _explicitly_ support different authentication schemes, and make the community implementations fully interoperable with all third-party applications, out of the box.

### Token format


The token will be formatted as follows:
`VWT \<YOUR_TOKEN\>`

`VWT` scheme stands for "Vega Wallet Token" and is not a standard authorisation scheme.

`YOUR_TOKEN` is a randomly generated string of 64 characters with numbers and letters. Each session generates a unique one.

## Request

<details style={{"marginBottom":"1rem"}} className={"openapi-markdown__details"} data-collapsed={false} open={true}><summary style={{}}><h3 className={"openapi-markdown__details-summary-header-params"}>Header Parameters</h3></summary><div><ul><ParamsItem className={"paramsItem"} param={{"in":"header","name":"Origin","description":"The origin of the request. If this header is missing, the request will be rejected as an unauthorized request (401 Unauthorized).","required":true,"schema":{"type":"string"}}}></ParamsItem><ParamsItem className={"paramsItem"} param={{"in":"header","name":"Authorization","description":"The token used to access the protected methods. The format is `VWT YOUR_TOKEN`. VWT is a non-standard scheme that stands for Vega Wallet Token. If this header is missing when accessing protected methods, the request will be rejected as an unauthorized request (401 Unauthorized).","schema":{"type":"string"},"examples":{"test":{"value":"VWT stuTxgheMY8RZyISS9voyLjXHBaQFS7DRqDyXCM7Xx6rcj8zP84U1XNAIhf8110S"}}}}></ParamsItem></ul></div></details><MimeTabs className={"openapi-tabs__mime"}><TabItem label={"application/json-rpc"} value={"application/json-rpc-schema"}><details style={{}} className={"openapi-markdown__details mime"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-mime"}><h3 className={"openapi-markdown__details-summary-header-body"}>Body</h3><strong className={"openapi-schema__required"}>required</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}><div style={{"marginTop":"1rem","marginBottom":"1rem"}}>

The JSON-RPC v2 request

</div></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"jsonrpc"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`2.0`]"} schema={{"required":true,"type":"string","enum":["2.0"]}}></SchemaItem><SchemaItem collapsible={false} name={"method"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"required":true,"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"params"} required={false} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object"}}></SchemaItem><SchemaItem collapsible={false} name={"id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"description":"According to the JSON-RPC v2 standard, if the ID is not specified, an empty response should be returned, whatever the state is (success or error). In the Vega implementation, this empty response corresponds to `204 No content`.","type":"string"}}></SchemaItem></ul></details></TabItem></MimeTabs><div><div><ApiTabs label={undefined} id={undefined}><TabItem label={"200"} value={"200"}><div>

The request is successful. On this endpoint, only this type of response format should be expected.

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json-rpc"} value={"application/json-rpc"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"jsonrpc"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`2.0`]"} schema={{"type":"string","required":true,"enum":["2.0"]}}></SchemaItem><SchemaItem collapsible={false} name={"result"} required={false} schemaName={"object"} qualifierMessage={undefined} schema={{"type":"object"}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>errors</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number"}}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"data"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"jsonrpc\": \"2.0\",\n  \"result\": {},\n  \"errors\": {\n    \"code\": 0,\n    \"message\": \"string\",\n    \"data\": \"string\"\n  },\n  \"id\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"204"} value={"204"}><div>

This response is returned when there is no `id` property valued in the JSON-RPC request. Concretely, when a JSON-RPC request doesn't have an ID, it is considered a JSON-RPC notification and, as such, no result is to be expected, even in case of failure.

</div><div></div></TabItem><TabItem label={"400"} value={"400"}><div>

Something went wrong

</div><div><MimeTabs className={"openapi-tabs__mime"} schemaType={"response"}><TabItem label={"application/json-rpc"} value={"application/json-rpc"}><SchemaTabs className={"openapi-tabs__schema"}><TabItem label={"Schema"} value={"Schema"}><details style={{}} className={"openapi-markdown__details response"} data-collapsed={false} open={true}><summary style={{}} className={"openapi-markdown__details-summary-response"}><strong>Schema</strong></summary><div style={{"textAlign":"left","marginLeft":"1rem"}}></div><ul style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"jsonrpc"} required={false} schemaName={"string"} qualifierMessage={"**Possible values:** [`2.0`]"} schema={{"type":"string","required":true,"enum":["2.0"]}}></SchemaItem><SchemaItem collapsible={true} className={"schemaItem"}><details style={{}} className={"openapi-markdown__details"}><summary style={{}}><span className={"openapi-schema__container"}><strong className={"openapi-schema__property"}>errors</strong><span className={"openapi-schema__name"}> object</span></span></summary><div style={{"marginLeft":"1rem"}}><SchemaItem collapsible={false} name={"code"} required={false} schemaName={"number"} qualifierMessage={undefined} schema={{"type":"number"}}></SchemaItem><SchemaItem collapsible={false} name={"message"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem><SchemaItem collapsible={false} name={"data"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem></div></details></SchemaItem><SchemaItem collapsible={false} name={"id"} required={false} schemaName={"string"} qualifierMessage={undefined} schema={{"type":"string"}}></SchemaItem></ul></details></TabItem><TabItem label={"Example (from schema)"} value={"Example (from schema)"}><ResponseSamples responseExample={"{\n  \"jsonrpc\": \"2.0\",\n  \"errors\": {\n    \"code\": 0,\n    \"message\": \"string\",\n    \"data\": \"string\"\n  },\n  \"id\": \"string\"\n}"} language={"json"}></ResponseSamples></TabItem></SchemaTabs></TabItem></MimeTabs></div></TabItem><TabItem label={"401"} value={"401"}><div>

This error code is returned when the authentication failed.

</div><div></div></TabItem><TabItem label={"500"} value={"500"}><div>

Something failed internally. Nothing can be done about it on the client side. Reporting the issue to the wallet software developers is encouraged.

</div><div></div></TabItem></ApiTabs></div></div>
